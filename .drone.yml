---
kind: pipeline
type: docker
name: pipeline1

steps:
- name: greeting
  image: golang:1.12
  commands:
  - env
  - ls
  - sleep 10
  
- name: test
  image: golang:1.12
  commands:
  - pwd
  - whoami
  - sleep 5

- name: final
  image: golang:1.12
  commands:
  - echo "hello"
  depends_on:
  - greeting
  - test
  - sleep 5
  
- name: down1
  image: golang:1.12
  commands:
  - echo "down stream job 1"
  depends_on:
  - final
  - greeting

- name: down2
  image: golang:1.12
  commands:
  - echo "down stream job 2"
  depends_on:
  - final
  - test
  
---
kind: pipeline
type: docker
name: pipeline2
  
steps:
- name: foo
  image: golang:1.12
  commands:
  - echo "foo"
